%Geometry
\newgeometry{inner=20mm,
            outer=49mm,% = marginparsep + marginparwidth
                       %   + 5mm (between marginpar and page border)
            top=20mm,
            bottom=25mm,
            marginparsep=6mm,
            marginparwidth=30mm}
\makeatletter
\renewcommand{\@marginparreset}{%
  \reset@font\small
  \raggedright
  \slshape
  \@setminipage
}
\makeatother

\captionsetup[table]{font=small,labelfont={bf},skip=10pt}
\captionsetup[figure]{font=small,labelfont={bf},skip=10pt}

%intestazione pagina
\pagestyle{fancy}
\fancyhf{}
\fancyhead[RE]{\ifnum\value{chapter}>0\nouppercase{\leftmark}\fi}
\fancyhead[LE]{\small\textbf{\thepage}}
\fancyhead[LO]{\nouppercase{\rightmark}}
\fancyhead[RO]{\small\textbf{\thepage}}

%link ipertestuale per indice
% \hypersetup{
% 	colorlinks=false,
% 	linkcolor=black,
% 	filecolor=blue,
% 	citecolor=blue,
% 	urlcolor=blue,
% }
\hypersetup{
    colorlinks,
    linkcolor={red!70!black},
    citecolor={green!80!black},
    urlcolor={blue!80!black}
}


\newcommand{\myref}[1]{\textbf{\ref{#1}}}

% \makeatletter
% \AtBeginDocument{%
%     \newcommand*{\original@ref}{}%
%     \let\original@ref\ref
%     \@ifpackageloaded{hyperref}{%
%         \renewcommand*{\ref}{%
%             \@ifstar\newrefstar\newref
%         }%
%         \newcommand*{\newrefstar}[1]{%
%             \original@ref*{#1}%
%         }%
%         \newcommand*{\newref}[1]{%
%             \hyperref[#1]{\newrefstar{#1}}%
%         }%
%     }{%
%         \renewcommand*{\ref}[1]{%
%             \textbf{\original@ref{#1}}%
%         }%
%     }%
% }
% \makeatother

%%%%%indent%%%
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt}
\setlength{\mathindent}{1.5em}


%boh
\renewcommand{\chaptermark}[1]{%
 \markboth{\MakeUppercase{%
 \chaptername}\ \thechapter.%
 \ #1}{}}


%Python in latex
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{commentcolour}{rgb}{0.43,0.63,0.65}

\definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}  %#5D8AA8
\definecolor{cobalt}{rgb}{0.0, 0.28, 0.67}         %#0047AB
\definecolor{coolblack}{rgb}{0.0, 0.18, 0.39}      %#002E63
\definecolor{dartmouthgreen}{rgb}{0.05, 0.5, 0.06} %#00693E
\definecolor{mydmg}{rgb}{0.05, 0.5, 0.06}          %#00693E
\definecolor{lava}{rgb}{0.81, 0.06, 0.13}          %#CF1020

\definecolor{shadecolor}{rgb}{0.93, 0.93, 0.93}
\definecolor{darkgreen}{rgb}{0.0, 0.5, 0.0}
\definecolor{darkred}{rgb}{0.8, 0.0, 0.0}
\definecolor{violet}{rgb}{0.55, 0.0, 0.55}

\lstdefinestyle{mystyle}{ %Stile python code
    backgroundcolor=\color{shadecolor},
    commentstyle=\color{commentcolour},
    keywordstyle=\color{darkgreen},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{darkred},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}
